Import('env')

env_sd = env.Clone()
env_sd.add_source_files(env.modules_sources, "*.cpp")

env_sd.Append(CPPPATH=["stable-diffusion_cpp/", "stable-diffusion_cpp/thirdparty", "stable-diffusion_cpp/ggml/include", "stable-diffusion_cpp/ggml/ggml/include", "stable-diffusion_cpp/ggml/ggml/src", "stable-diffusion_cpp/ggml/src",])

env_sd.Append(CCFLAGS=['-fexceptions'])

env.Append(LIBPATH=["libs"])

env.Append(LIBS=[env.File("libs/libstable-diffusion.a"), env.File("libs/libggml.a"), env.File("/usr/lib/libgomp.so"), env.File("/usr/lib/libpthread.a")])
